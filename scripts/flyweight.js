const CANVAS_WIDTH = window.innerWidth
const CANVAS_HEIGHT = window.innerHeight

const canvas = document.getElementById("canvas")
const ctx = canvas.getContext("2d");

ctx.canvas.width = CANVAS_WIDTH
ctx.canvas.height = CANVAS_HEIGHT

class FlyweightTree {
    constructor (treeName) {
        this.image = new Image()
        switch(treeName) {
            case 'classique':
                this.image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABCxJREFUWEfFV81vE0cU/836C+LEDjUgWraJlGJFPTdS4EBPfNzaquIcQoADJypOlbgFCQ5wAPlY9cIxpUqNVLV8Xbj1DyhESVVacFTRqoWsccg6uzvVmw97xt517AjaOdmzM/N+7/d+780bhm2Mcz9MTjYa4ZK59eaJX9g2jsLAm2ZuHeBJhrYD4s0AoFMUrEFBDASg7b20uHNXGpm8Y9FYOfhooDP7Wjz3Y/lI8Irf09TTpsJ7WcAxZzgISWX6DQOIizljQGF/ti0FIwQ0uXzXE99oXS6fuly98PvFJN30ZGDm2wNcx7bzgKIrAXi1plii/+t1y/c8oYtcQdJ0+4unsbZ6A2gpXrrYMmJ4vFZrkq8ouhkL48oDDzyUU71AJAI4uViu85APi8CaxvtMdmJlRYViWwBmvys/jwK+l+wV3KyCIeGs/xNg6J20BYWY6AqDAYD2VWPC0MXAJ9fHWoVm1M21vCcDO3elkM2nenKw/neA7LCDdM5BPzqwALSNS9pHldAK72ZQ/2MzVmydqbC22kRRZYjOBh0CyorqeVuMNoAbY0L1bY0xjLoZQS0d7KQYRvYpsTHAW22KeqApq9eacLIMw3szrVR00gyZIWYeamVEAgMdLDNgfHpYTEZNjtdeiPzutgYoPKI4EWMM4LxbgIZXWwNgkJ6/ECkWMxRF4wclKBrEAk0//amBjTXKP4ZckYFxdU0QCeq3WRO6RSjCIAHo8eqvAIEfSROMW4eSZd+jb+ZgQoiMapC5Xi3pA4BcqUVoCkubeUnsKCZsAEwUHt8LZQEyyzQDbvcSIR3+aWXsCg/xpcj/fRmk0syqxmSYvBsabWvg+aMNsWaHKru0169HyI04SEX8s8ULz6pJuRtbCSkdNXBZC6QjUhNc/C6+L+8CHnL8ueSL3wQgDDg21/mWd4AGlFiKj8+7nCjUYZAoGNae+VbFI+9p6Fz3PY4dBcla0gVkqyWBm2OXXE6q1SO/J42RPelWOAr1DXz8sIaJEsPFwn7hvdmr9WNcMxsL4fi8q2Qfj/D0k1Xx4YMSx0fXBu8ttwwBLaAwWOaVMEggZ36tCWVMlDim3hYAbfzovHuHRdF55jiPCZEDNOae1PL0faKEtw8gLggLp+St8Z8wEAfgm1Oi5P/fDCQD6Gzhc0568qvPl5Y7nemqA7OL5YdRyA/L0gPcPLESWysWZmWRj9PAzK2yEq/ZRzJUpn/uOsuaOP39h+Obrzd/I+PZPBMPDxpxjw2pgXgGtPfUR1CcqG8Q7RrnRyuHHt9PLERyo7zxdFdjLjaBLMzKmtzJgD6DaiH1B7JrBlKqUel0yGLARG4apt5fNBsGGy0GdgNTV2W8zEcMPVyoBfMbATZeRFb5Nh2xAJxU7wBtLE79enP1LOb8AF9PlBBOXYOIlYy9DL/VIZtXckdI/wVVOaUw/30gEwAAAABJRU5ErkJggg==';
                break;
            case 'fruitier':
                this.image.src = 'data:image/png;base64,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'
                break;
            case 'baobab' :
                this.image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAz9JREFUWEe9Vz1vE0EQnY2lWNhECsSiAoERkgt+RYyEJaBIxUmpqJFoIpGKLqkuHbQUpkyVEoEUoIgEf4EGS0gUWCJgm/P5/HGLZnb3bvdu72xHZ67yeWdn3sy8N7vHIOd5dLLD89bFGgOA2Ex/83s+WZw+eYd/W59oodluvWIA2+Ryjd2dTWYQeAGsV8tw+WrVspkBcE7xKShiyAiTB4S23Gu3aL/KR4/mnXvkuVbfyi2G3xsCMAbTYArB3wAqmxWoXqlEtckCwZrt+5xJ6OkkxD/e+ZDKXKvXrCCGPT/lQQAHsYcD+H17Oxhmb3pNw9ABiB7HnR77E5iNpyk6GACkva0KrNluceqDySWjH96vrAqITcqxSiSchpTxxrUNKFfLkWu0w/Q+aKQUHHjT4hqRYzJxAMwEjbZu1YQjBVQjnA27AqObY6uSqjB4q2QXO8xxrXWKcSlE5Q3FgSJJMIaISrJ8H8VNCUeA0AJjyhhBaoSBWawohjWodM95NgmTtNargGtmFgxUFoZUf0vG36xF7UvyIilthPZ57wwLlX4IRFIM8j2WnNrHpUyl5ABSpLTFUCrJHJG4yQbElplOVNznD3yjdEYXJRoPqyabnTvhvrkOEb++fxyB1WeHyuTL3llq3TadsbQ4+BaqACLruM4MANYkyh/1/ePrCnHHdYgiCtzXF9tSDwye3lnPTEwHndsCIxBpTZirgJ0jh+MhcltWRwCQ1GWlt42D0we55c0+v+zbkhlTexhA/blojwLQOPy4UGK4Z2FDaseREw0BrIJ6p9+uw8f9LiH/LwBsZ8d40CVmFwpAvxWFs5DO+uaoDLv9S/HAlIMz6HcJV2EAUnMAz3Wp8dfdzZgo8nI0KboFUfa6oDkDvy9uSToINFkdAE0UPOQwGoxg16tA0zO1XjgJH57sPGMAL3VRqlFstEAaFA4gOQ067mPL9I77M+7/pNYURsI0ADF65axLDZGJ9wf4LIDG4aeF58vChh3X+Q4AN+aNVqoCK4WNg9PSPNulJqEaw/OcLsuDZSpg+Uwz9En9XxkAdS+IK6CCm6f+stOwkAroEFZWAeRAHCjxJaldopc9kC5WAf1zQb/BX2Ac/wOwGdEz5Pex5wAAAABJRU5ErkJggg=='    
                break;
            case 'palmier' :
                this.image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAl1JREFUWEfFlzFv00AUx9+rHSe5hkCFCzGfoEGCjYWxZQEP2CkRUiuxsYR+APgIjIBkhMqcgYDaIkViaQoTEiMSKogP0C6MVBTFfujinnGsnM+1Bb4hUmzf/X/v/969sxEKjK39LrntARZYApSTvV17DAhaXIQIPj5YGV7nAPw6/+nkBFECcIEXH25d8X38/BeCSyJcsuqbBHhfXM/jRiYAIfB8ZFMoHUbNR8ti0X/hgjeyAwDCIDg2N27s/khL0akAJm68t7t+AK8QASY0MYiDg6MTrRAz/kxveThT69QAkRt7oRt8WBcZHB4eRa5MRUzwsLcyfCxzIRPA9vfuZRrDl4lCbIaIGJGAaHopWcRJECWAqHRZBBxiUhMnhZFVWKyXChCJJyJPwnAIy2JTlxHhnbM0uKnqEVKAeOSy7eWtOaIMoPWoAqgLuZA4S39QpiAtgghA2N/fxmTKEOCn0x40ChWhbLK35lKtivDr2N/r9XeWxXNvv9295gfBpywNqrADlsnAfdqfuY5wI61DFgZomQw6EgDuwNb+HXLbr6U6uQG4/ZZZl0Yv7N/5unr19tKb2DkyndACAA6l2a/afpn6gGoHtBYZdJ7Mzv9/ASjdgdIAXt5b3fg99p+VBiA6oLXIwC2jBiKAlCb0T4uQA1T0OTDP1ZR9QAWSqw9wgDNMhwYzygM42zCA1fTyAM43q1AxtNRzQGU/v587BQvNKtQMrSQH1h1qMgPmmV7WNnRpvq5Bs2GUBLDukDaHcGFBfRyr6iB3DfCJ/GVE9jakEs59HHsjm8Ivw3wfIkmwP4EV5CH8AX1yAAAAAElFTkSuQmCC'    
                break;
            case 'sapin' :
                this.image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAplJREFUWEfNl89rE0EUx9+sa7LJJrvBhkp68A9oCB60ROitiXhvjCf/hdR/ov+AFj0XPFkSxZuHtqCQih67+A94KKgIbbGHoJuRNzO7mzQzu7MbYp3DBpKZeZ/3fb82BOZYjcEGdSpVGLb2SNZrMh9s9DeomctBsegw28N2NohMALff3n85/uM/LleqQCj3fUzG6x9b/aO0SmQCQOnLbhX4YXxS9pElFKkBUHqMO1+RcWTIEopUAOi5VSxB7rrF7M0e5kBp8kEb4M67B7XRxe8T1+Xen5/95NIjCDGg7NwIw78QgOD2+k6TGit2JP+lrPM6h9pOBUHUTlw0jpuNGgJIY4DfjrzOoaV7aSrawHsWf/YgAJRXQLgogPdQXwVtgEh6Pd90Q6EFwKQ3DTCWC8w67wGiBMNSJHB++mOCjoDXOUi8P3HDpL9YhnnLhrxVCApgRg4KcHbU3qvo6SQr5ZiTjUGLOu6SeocQZSFliMbL7pKk+Uh4UrRlrRCwsSsaUBj6KbtBPkxUhuaETARAz9EWk37Cjsr+tB4Ehu1XsTY0AALvI+sXv07B933eisVQMM0cFG1nZkYk5UMywOv2yNvcz2MpkhVbNCDhp3wisR+xD6zvP6JzA+BlqztNeo31f/WSseg0o0QFWAfEBmQauqWdqhnFAtSfN09gDDU+/bItAqR73Dnoq07HA4Sj99LxmNgDJWJSRWfiQqEEUA0fQtybx5tvvm9311h5ujbOBwK93fekPmitGUA/y7xVQSgBVl/c+0Z8uvyl90m6ZxoAoLf7QboPm1hQFTKwxCRUxW67e5fiRHSYAmqApMyZA0CEoFRg7yRbCgUWC0AB3NJVK3DlIfgfADDN/1kOfH32RPwJk6fXra2nqRL7L4qL2yEQC4DfAAAAAElFTkSuQmCC'   
                break;
            case 'sakura' :
                this.image.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAzJJREFUWEe9Vs9PE0EU/t5uQaE/EkyQkhKJBxMP4sH/wKsJB7l48EhMTJSDJy+LCaEHbybEjRdvnmwAEw7+J55IDDUUChdhS2wbSMfM7MzszO62bBHbC7T73vu++d733izhmj69L7ttnHRuqnLOygJlKZ0pKK0Q26pvwkGNns7Xett1ZsU0AoABlB+r0PL9g0FErkQgAWghcC4EcBIALlNiaAKp4LyK0ECC83//JwGN109bHrB/TQqEJw5PRmc3CqzQPYtOasst+MyVpBoATtvA2fnAVgxsQSS3ktaQWMnApZ7OA+Mu7zwY/14p2do0AvGMUibjcgKiqgF8maW59CkE+hlyMIFvewzMCNkPQCT5cKmNz0BfCEMyOCsPE3ipBJT0oqgpdaUYjphyefyk/HczXnmC/+1jSk2Abf96Q0t3Plxs7S07RJ91IWOkTINRIwAzDRcHV+R4/ysl0UWRQwzMcd65rx6sqxRYJ47rmtZTE8yMl7OPqQlgcizcC42WiKC5kIRWTy4pYrUf4yxX6Oo6xKdO6Sg3mjyN3efImH3dH19MqoWSKM04RdECe7spmhT107KbPRFJ8yUnRsT8OQdNjoULs9UFgq5Y0yGBzfpPuLgbPo2MpB1veEt5MBrNlN2gCZtk5DJTu4Jw4rxemLKmoLdV3yHCon21hdU6u98xce+J5miJoqoYiaEysTYdhLekeUElxtBsh7M0r5+3PI/lH72IcHmHGF8TfDHo4RSQZp7V4sZpYhdkvg05AV68VK3qHE02ZoQ4AUut2JfMBALPe0vAe55flCTaH302fvsxnFw+FLuNW/R8/vcgwPizzAR4YuB5cjET3NnyVwKeceCLw0OxoovrkTpZSQxFQEyQ54mO52bLAoODm6pkBVZxwxNYXWW5cln7e+QE2r6vh+1fwdXKyawa177j+z2VMHIC1336oRWwCTSl+daH9pEp+VDJCQKuc1xcW5vJ3MOUwMwE2r7/CcBLMXpHR0CvpxfSqAhYd9R5swn+6lCsjqgFkfzhDXfRbIq3U7WWr6pCpha0Njamc657HAcZyRh2fH+HAYsaXL6xKebiHgBYoVp1rqLCX3IvdrqpT3DqAAAAAElFTkSuQmCC'
                break;
        }       
    }

    drawTree(x,y) {
        ctx.drawImage(this.image,x,y)
    }
    
}

class FlyweightTreeFactory {
    constructor () {
        this.cache = []
    }

    getFlyweightTree(treeName) {
        if (this.cache[treeName] === undefined) {
            this.cache[treeName] = new FlyweightTree(treeName) 
        }
        return this.cache[treeName]
    }

}
